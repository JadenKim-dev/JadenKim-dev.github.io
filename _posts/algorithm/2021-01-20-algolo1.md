---
title:  "비트마스크 활용하기"

categories: 
  - algorithm
tags: 
  - [alhorithm, logic]

toc: true
toc_sticky: true

date: 2021-01-20
last_modified_at: 2021-01-20
---
비트마스크는 비트로 이루어진 숫자로 집합을 나타내는 기법이다.   
알고리즘 문제를 풀 때, 비트마스크를 이용하면 사용하는 메모리 양을 많이 줄일 수 있다.   

집합에 표현되는 수의 자리에는 1을, 포함되지 않는 수의 자리에는 0을 넣으면 된다.   
예를 들어, 집합 {1, 2, 4, 6, 7}은 아래와 같이 표현 가능하다.   

![비트마스크1](/assets/posts_image/2021-01-20-algolo1/비트마스크1.jpg)

2<sup>1</sup> + 2<sup>2</sup> + 2<sup>4</sup> + 2<sup>6</sup> + 2<sup>7</sup> = 214   
이렇게 하면 배열을 사용해 집합을 저장하지 않고, 정수 214로 집합을 나타낼 수 있다.   
이제 이 정수에 비트연산을 적용하면, 특정 원소가 존재하는지 검사하거나 원소를 추가/삭제할 수 있다.   
(현재 집합은 S = 214 라고 가정하자)   

1. 원소 x 추가하기 : S | (1 << x)   
   ex) 원소 3 추가   

![비트마스크2](/assets/posts_image/2021-01-20-algolo1/비트마스크2.jpg)

2. 원소 x 제거하기 : S & ~(1 << x)   
  x를 제외한 나머지 자리는 1과 &연산이 이루어져 그대로 유지되고,      
  x자리는 0과 &연산이 이루어져 제거된다.   
  ex) 원소 4 제거   

![비트마스크3](/assets/posts_image/2021-01-20-algolo1/비트마스크2.jpg)

3. 원소 x 검사하기 : S & (1 << x)   
  - ex1) 원소 6 검사   

![비트마스크4](/assets/posts_image/2021-01-20-algolo1/비트마스크2.jpg)

  - ex2) 원소 3 검사   

![비트마스크5](/assets/posts_image/2021-01-20-algolo1/비트마스크2.jpg)

  
